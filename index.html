<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>Happy Valentine's Day Florence! üíï</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { 
            background: linear-gradient(135deg, #fdf2f8 0%, #fef3c7 100%);
            min-height: 100vh;
            font-family: 'Poppins', sans-serif;
            overflow-x: hidden;
        }
        .floating-heart {
            position: absolute;
            opacity: 0.6;
            pointer-events: none;
            z-index: 1;
        }
        .confetti {
            position: absolute;
            pointer-events: none;
            z-index: 50;
        }
        .photo-container {
            border: 3px solid white;
            border-radius: 1rem;
            box-shadow: 0 15px 30px -10px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            transition: transform 0.3s ease;
            max-width: 100%;
        }
        .photo-container:hover {
            transform: scale(1.01);
        }
        .game-card {
            background: linear-gradient(135deg, #fbcfe8 0%, #f9a8d4 100%);
            border-radius: 1rem;
            padding: 1rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px -5px rgba(244, 114, 182, 0.3);
        }
        .game-card:hover {
            transform: translateY(-3px) scale(1.03);
            box-shadow: 0 12px 25px -5px rgba(244, 114, 182, 0.4);
        }
        .memory-card {
            background: linear-gradient(135deg, #fda4af 0%, #f472b6 100%);
            border-radius: 0.5rem;
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .memory-card:hover {
            transform: scale(1.05);
        }
        .memory-card.flipped {
            background: white;
        }
        .hearts-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }
        .confetti-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 50;
        }
        .content-wrapper {
            position: relative;
            z-index: 10;
        }
        .timeline-item {
            position: relative;
            padding: 1rem 0;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(to bottom, #ff6b6b, #ff4757);
            transform: translateX(-50%);
        }
        .timeline-content {
            position: relative;
            background: white;
            padding: 1rem;
            border-radius: 1rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin: 0 2rem;
        }
        .reasons-carousel {
            overflow: hidden;
            height: 120px;
            position: relative;
        }
        .reasons-list {
            display: flex;
            flex-direction: column;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
        }
        .reason-item {
            height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 0 1rem;
        }
        .love-coupon {
            background: linear-gradient(135deg, #ff6b6b, #ff4757);
            color: white;
            padding: 1rem;
            border-radius: 1rem;
            text-align: center;
            margin: 0.5rem;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .love-coupon:hover {
            transform: scale(1.05);
        }
        .snowflake {
            position: absolute;
            color: #fff;
            font-size: 1.5rem;
            opacity: 0.8;
            pointer-events: none;
            z-index: 1;
        }
        .raindrop {
            position: absolute;
            background: linear-gradient(to bottom, rgba(135, 206, 250, 0.8), rgba(135, 206, 250, 0.2));
            width: 2px;
            height: 15px;
            border-radius: 0 0 5px 5px;
            pointer-events: none;
            z-index: 1;
        }
        .leaf {
            position: absolute;
            font-size: 1.2rem;
            opacity: 0.7;
            pointer-events: none;
            z-index: 1;
        }
        .flower {
            position: absolute;
            font-size: 1.5rem;
            opacity: 0.6;
            pointer-events: none;
            z-index: 1;
        }
        @media (max-width: 768px) {
            .text-4xl { font-size: 1.875rem; }
            .p-6 { padding: 1.5rem; }
            .game-card { padding: 0.75rem; }
            .timeline-item::before {
                left: 1rem;
                transform: translateX(0);
            }
            .timeline-content {
                margin-left: 2.5rem;
                margin-right: 1rem;
            }
        }
    </style>
</head>
<body class="relative">
    <!-- Floating Hearts Background -->
    <div id="hearts-container" class="hearts-background"></div>
    
    <!-- Confetti Container -->
    <div id="confetti-container" class="confetti-overlay"></div>

    <!-- Seasonal Effects Container -->
    <div id="seasonal-effects" class="fixed inset-0 pointer-events-none z-5"></div>

    <!-- Home Page -->
    <div id="home-page" class="min-h-screen flex flex-col items-center justify-center px-4 py-8 content-wrapper">
        <div class="text-center">
            <h1 class="text-4xl md:text-6xl font-bold bg-gradient-to-r from-pink-600 to-red-600 bg-clip-text text-transparent mb-6">
                Happy Valentine's Day!
            </h1>
            
            <div class="mb-8">
                <div class="text-8xl mb-4">‚ùì</div>
                <h2 class="text-2xl md:text-4xl font-bold text-pink-700 mb-6">
                    Do you know how much I love you?
                </h2>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 max-w-2xl">
                <button onclick="wrongAnswer()" class="bg-gray-400 text-white p-4 rounded-xl font-semibold text-lg hover:scale-105 transition-transform">
                    Maybe a little? ü§î
                </button>
                <button onclick="wrongAnswer()" class="bg-gray-400 text-white p-4 rounded-xl font-semibold text-lg hover:scale-105 transition-transform">
                    Not really sure... üòÖ
                </button>
                <button onclick="wrongAnswer()" class="bg-gray-400 text-white p-4 rounded-xl font-semibold text-lg hover:scale-105 transition-transform">
                    Only sometimes? ü§∑‚Äç‚ôÄÔ∏è
                </button>
                <button onclick="correctAnswer()" class="bg-gradient-to-r from-pink-500 to-red-500 text-white p-4 rounded-xl font-semibold text-lg hover:scale-105 transition-transform">
                    More than anything in the world! üíñ
                </button>
            </div>
            
            <p class="text-pink-600 mt-8 text-center">
                From your loving Macharia ‚ù§Ô∏è
            </p>
        </div>
    </div>

    <!-- Main Page -->
    <div id="main-page" class="hidden min-h-screen">
        <div class="content-wrapper">
            <div class="flex flex-col items-center justify-start min-h-screen px-4 py-8">
                <!-- Header with your name -->
                <div class="text-center mb-6 w-full">
                    <h1 class="text-3xl md:text-5xl font-bold bg-gradient-to-r from-pink-600 to-red-600 bg-clip-text text-transparent mb-2">
                        You're Absolutely Right! üíï
                    </h1>
                    <h2 class="text-xl md:text-3xl font-semibold text-pink-700">
                        To My Beautiful Florence
                    </h2>
                    <p class="text-pink-600 mt-2">With all my love, Macharia üíù</p>
                </div>

                <!-- Our Song Player -->
                <div class="w-full max-w-2xl bg-white/90 backdrop-blur-sm rounded-2xl p-4 mb-6 shadow-lg">
                    <h3 class="text-center font-bold text-blue-700 mb-3">Our Special Song üéµ</h3>
                    <div class="flex flex-col items-center">
                        <audio id="our-song" controls class="w-full max-w-md">
                            <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
                            Your browser does not support the audio element.
                        </audio>
                        <p class="text-sm text-gray-600 mt-2 text-center">
                            "Every time I hear this song, I think of our first dance together üíÉüï∫"
                        </p>
                        <p class="text-xs text-pink-600 mt-1">- Macharia ‚ù§Ô∏è</p>
                    </div>
                </div>

                <!-- Reasons I Love You Carousel -->
                <div class="w-full max-w-2xl bg-white/90 backdrop-blur-sm rounded-2xl p-4 mb-6 shadow-lg">
                    <h3 class="text-center font-bold text-pink-700 mb-2">Reasons I Love You üíñ</h3>
                    <div class="reasons-carousel">
                        <div class="reasons-list" id="reasons-list">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Photo Showcase -->
                <div class="relative w-full max-w-2xl mb-8">
                    <div class="photo-container" id="photo-container">
                        <img id="main-photo" src="https://image2url.com/r2/default/images/1770506370489-b79e04d1-aca7-4354-abc6-8aad9df292ff.jpg" alt="Florence" class="w-full h-auto object-cover">
                        <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4">
                            <p class="text-white text-lg font-medium text-center" id="photo-caption">
                                My amazing chef Florence üç≥‚ú®
                            </p>
                        </div>
                    </div>

                    <div class="flex justify-center mt-4 space-x-2" id="photo-dots">
                        <button class="w-3 h-3 rounded-full bg-pink-500 scale-125"></button>
                        <button class="w-3 h-3 rounded-full bg-white/50 hover:bg-white"></button>
                    </div>
                </div>

                <!-- Love Timeline -->
                <div class="w-full max-w-2xl bg-white/90 backdrop-blur-sm rounded-2xl p-4 mb-6 shadow-lg">
                    <h3 class="text-center font-bold text-purple-700 mb-4">Our Love Timeline üìÖ</h3>
                    <div class="timeline" id="love-timeline">
                        <!-- Populated by JavaScript -->
                    </div>
                </div>

                <!-- Love Coupons -->
                <div class="w-full max-w-2xl bg-white/90 backdrop-blur-sm rounded-2xl p-4 mb-6 shadow-lg">
                    <h3 class="text-center font-bold text-green-700 mb-4">Love Coupons üíù</h3>
                    <div class="flex flex-wrap justify-center" id="love-coupons">
                        <!-- Populated by JavaScript -->
                    </div>
                </div>

                <!-- Game Selection Menu -->
                <div class="grid grid-cols-2 gap-4 mb-8 max-w-xl w-full">
                    <div class="game-card bg-gradient-to-r from-pink-400 to-red-400 text-white" onclick="showGame('memory')">
                        <div class="text-4xl mb-2">üé¥</div>
                        <span class="font-semibold">Memory Match</span>
                    </div>
                    <div class="game-card bg-gradient-to-r from-purple-400 to-pink-400 text-white" onclick="showGame('quiz')">
                        <div class="text-4xl mb-2">‚ùì</div>
                        <span class="font-semibold">Love Quiz</span>
                    </div>
                    <div class="game-card bg-gradient-to-r from-red-400 to-orange-400 text-white" onclick="showGame('clicker')">
                        <div class="text-4xl mb-2">‚ù§Ô∏è</div>
                        <span class="font-semibold">Heart Clicker</span>
                    </div>
                    <div class="game-card bg-gradient-to-r from-blue-400 to-purple-400 text-white" onclick="createConfetti()">
                        <div class="text-4xl mb-2">üéâ</div>
                        <span class="font-semibold">Confetti Party</span>
                    </div>
                </div>

                <!-- Games Container -->
                <div id="games-container" class="w-full max-w-xl mb-8"></div>

                <!-- Personal Message from Macharia -->
                <div class="bg-gradient-to-r from-pink-100 to-red-100 rounded-2xl p-6 max-w-2xl w-full text-center mb-8">
                    <p class="text-lg text-gray-800 leading-relaxed">
                        Florence, every day with you feels like a blessing. You've brought so much joy, 
                        laughter, and love into my life. I'm so grateful to call you mine.
                        <br><br>
                        With all my heart,<br>
                        Your Macharia üíï
                    </p>
                </div>

                <!-- Footer -->
                <div class="text-center">
                    <p class="text-pink-600 font-semibold text-lg">
                        Happy Valentine's Day 2026! üíù
                    </p>
                    <p class="text-pink-500 text-sm mt-2">
                        Made with love by Macharia just for you! ‚ú®
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Photo data
        const florencePhotos = [
            {
                url: "https://image2url.com/r2/default/images/1770506370489-b79e04d1-aca7-4354-abc6-8aad9df292ff.jpg",
                caption: "My amazing chef Florence üç≥‚ú®"
            },
            {
                url: "https://image2url.com/r2/default/images/1770506350329-0690163a-e5c9-4811-ae21-8e68684cfcdd.jpg",
                caption: "Beautiful Florence against the pink wall üíñ"
            }
        ];

        // Reasons I love you (from Macharia to Florence)
        const reasonsILoveYou = [
            "Your smile lights up my entire world üí´",
            "The way you laugh at my silly jokes üòä",
            "Your incredible cooking skills üç≥",
            "How you always know what to say üí¨",
            "Your kindness to everyone you meet ‚ù§Ô∏è",
            "The way you look in that pink outfit üíñ",
            "Your strength and determination üí™",
            "How you make every day feel special ‚ú®",
            "Your beautiful eyes that sparkle üåü",
            "The way you hold my hand üë´",
            "Your passion for everything you do üî•",
            "How you make me a better person üåà",
            "Your amazing hugs that comfort me ü§ó",
            "The way you dance when no one's watching üíÉ",
            "Your creativity and imagination üé®",
            "How you remember all the little details üß†",
            "Your beautiful voice when you sing üéµ",
            "The way you care for others so deeply üíï",
            "Your adventurous spirit üåç",
            "How you make our house feel like home üè†"
        ];

        // Love timeline data (Macharia & Florence's story)
        const loveTimeline = [
            {
                date: "First Meeting",
                title: "Our First Hello",
                description: "When our eyes first met and my heart skipped a beat üíì",
                emoji: "üëã"
            },
            {
                date: "First Date",
                title: "Coffee & Conversation",
                description: "Talking for hours without noticing time fly ‚è∞",
                emoji: "‚òï"
            },
            {
                date: "First Kiss",
                title: "Perfect Moment",
                description: "Under the stars, everything felt right ‚ú®",
                emoji: "üíã"
            },
            {
                date: "Moving In",
                title: "Our Home Together",
                description: "Building our little paradise üè†",
                emoji: "üè°"
            },
            {
                date: "Today",
                title: "Valentine's Day 2026",
                description: "Celebrating our amazing love story üíï",
                emoji: "üíù"
            }
        ];

        // Love coupons
        const loveCoupons = [
            { title: "One Home-Cooked Dinner", description: "Any dish of your choice! üçΩÔ∏è" },
            { title: "Movie Night", description: "Your pick, my treat! üé¨" },
            { title: "Massage Session", description: "30 minutes of pure relaxation üíÜ‚Äç‚ôÄÔ∏è" },
            { title: "Weekend Getaway", description: "Just you and me! ‚úàÔ∏è" },
            { title: "No Chores Day", description: "I'll handle everything! üßπ" },
            { title: "Flower Delivery", description: "Fresh roses to brighten your day! üåπ" }
        ];

        let currentPhotoIndex = 0;
        let confettiTimeout;
        let seasonalInterval;

        // Create floating hearts
        function createFloatingHearts() {
            const container = document.getElementById('hearts-container');
            container.innerHTML = '';
            
            const heartCount = window.innerWidth < 768 ? 15 : 25;
            
            for (let i = 0; i < heartCount; i++) {
                const heart = document.createElement('div');
                heart.className = 'floating-heart';
                heart.innerHTML = '‚ù§Ô∏è';
                heart.style.left = Math.random() * 100 + '%';
                heart.style.top = Math.random() * 100 + '%';
                heart.style.fontSize = (Math.random() * 16 + 8) + 'px';
                container.appendChild(heart);
                
                // Animate heart
                animateHeart(heart);
            }
        }

        function animateHeart(heart) {
            let y = parseFloat(heart.style.top);
            const speed = Math.random() * 0.8 + 0.3;
            const animation = setInterval(() => {
                y -= speed;
                if (y < -10) {
                    y = 110;
                }
                heart.style.top = y + '%';
            }, 50);
            
            // Rotate heart
            let rotation = 0;
            const rotateSpeed = Math.random() * 3 + 1;
            setInterval(() => {
                rotation += rotateSpeed;
                heart.style.transform = `rotate(${rotation}deg)`;
            }, 100);
        }

        // Create confetti
        function createConfetti() {
            const container = document.getElementById('confetti-container');
            container.innerHTML = '';
            
            const emojiCount = window.innerWidth < 480 ? 30 : 50;
            const emojis = ['‚ù§Ô∏è', 'üíï', 'üíñ', 'üíó', 'üåπ', 'üå∏', '‚ú®', 'üíù'];
            const colors = ['#ff6b6b', '#ff8e8e', '#ffafaf', '#ffd1d1'];
            
            for (let i = 0; i < emojiCount; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.innerHTML = emojis[Math.floor(Math.random() * emojis.length)];
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.top = '-10px';
                confetti.style.color = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.fontSize = window.innerWidth < 480 ? '1rem' : '1.5rem';
                container.appendChild(confetti);
                
                // Animate confetti falling
                const duration = Math.random() * 2000 + 1000;
                const xMovement = (Math.random() - 0.5) * 50;
                
                confetti.animate([
                    { transform: 'translateY(0px) translateX(0px)', opacity: 1 },
                    { transform: `translateY(${window.innerHeight}px) translateX(${xMovement}px)`, opacity: 0 }
                ], {
                    duration: duration,
                    easing: 'ease-out'
                });
            }
            
            // Clear confetti after animation
            clearTimeout(confettiTimeout);
            confettiTimeout = setTimeout(() => {
                container.innerHTML = '';
            }, 3000);
        }

        // Handle wrong answer
        function wrongAnswer() {
            const buttons = document.querySelectorAll('#home-page button');
            buttons.forEach(btn => {
                btn.classList.add('animate-pulse');
                setTimeout(() => {
                    btn.classList.remove('animate-pulse');
                }, 1000);
            });
            
            alert('Think again, my love! üíï\n\nFrom Macharia ‚ù§Ô∏è');
        }

        // Handle correct answer
        function correctAnswer() {
            createConfetti();
            
            setTimeout(() => {
                document.getElementById('home-page').classList.add('hidden');
                document.getElementById('main-page').classList.remove('hidden');
                
                // Initialize main page features
                initMainPage();
                initSeasonalEffects();
                setupShakeDetection();
                setupVoiceRecorder();
            }, 2000);
        }

        // Initialize main page features
        function initMainPage() {
            createFloatingHearts();
            changePhoto();
            populateReasonsCarousel();
            populateLoveTimeline();
            populateLoveCoupons();
            startReasonsCarousel();
        }

        // Populate reasons carousel
        function populateReasonsCarousel() {
            const container = document.getElementById('reasons-list');
            container.innerHTML = '';
            reasonsILoveYou.forEach(reason => {
                const div = document.createElement('div');
                div.className = 'reason-item';
                div.innerHTML = `<p class="text-pink-700 font-medium">${reason}</p>`;
                container.appendChild(div);
            });
        }

        // Start reasons carousel animation
        function startReasonsCarousel() {
            const container = document.getElementById('reasons-list');
            let currentIndex = 0;
            
            setInterval(() => {
                const totalItems = reasonsILoveYou.length;
                currentIndex = (currentIndex + 1) % totalItems;
                const translateY = -currentIndex * 120;
                container.style.transform = `translateY(${translateY}px)`;
                container.style.transition = 'transform 0.5s ease-in-out';
            }, 3000);
        }

        // Populate love timeline
        function populateLoveTimeline() {
            const container = document.getElementById('love-timeline');
            container.innerHTML = '';
            
            loveTimeline.forEach((item, index) => {
                const timelineItem = document.createElement('div');
                timelineItem.className = 'timeline-item';
                timelineItem.innerHTML = `
                    <div class="timeline-content">
                        <div class="flex items-center mb-2">
                            <span class="text-2xl mr-2">${item.emoji}</span>
                            <strong>${item.title}</strong>
                        </div>
                        <p class="text-sm text-gray-600 mb-1">${item.date}</p>
                        <p class="text-xs text-gray-700">${item.description}</p>
                    </div>
                `;
                container.appendChild(timelineItem);
            });
        }

        // Populate love coupons
        function populateLoveCoupons() {
            const container = document.getElementById('love-coupons');
            container.innerHTML = '';
            
            loveCoupons.forEach(coupon => {
                const couponDiv = document.createElement('div');
                couponDiv.className = 'love-coupon';
                couponDiv.innerHTML = `
                    <h4 class="font-bold">${coupon.title}</h4>
                    <p class="text-xs opacity-90">${coupon.description}</p>
                `;
                couponDiv.onclick = () => {
                    alert(`üéâ ${coupon.title}!\n${coupon.description}\n\nThis coupon is valid forever! üíï\n\n- Macharia`);
                    createConfetti();
                };
                container.appendChild(couponDiv);
            });
        }

        // Change photo
        function changePhoto() {
            currentPhotoIndex = (currentPhotoIndex + 1) % florencePhotos.length;
            document.getElementById('main-photo').src = florencePhotos[currentPhotoIndex].url;
            document.getElementById('photo-caption').textContent = florencePhotos[currentPhotoIndex].caption;
            
            // Update dots
            const dots = document.getElementById('photo-dots').children;
            for (let i = 0; i < dots.length; i++) {
                if (i === currentPhotoIndex) {
                    dots[i].className = 'w-3 h-3 rounded-full bg-pink-500 scale-125';
                } else {
                    dots[i].className = 'w-3 h-3 rounded-full bg-white/50 hover:bg-white';
                }
            }
        }

        // Auto-change photos
        setInterval(changePhoto, 5000);

        // Show game
        function showGame(gameType) {
            const container = document.getElementById('games-container');
            
            if (gameType === 'memory') {
                container.innerHTML = `
                    <div class="bg-white/90 backdrop-blur-sm rounded-xl p-4 shadow-xl">
                        <div class="flex justify-between items-center mb-3">
                            <h3 class="text-lg font-bold text-pink-700">Memory Match üíï</h3>
                            <button onclick="hideGame()" class="text-pink-600 hover:text-pink-800 font-semibold">Back</button>
                        </div>
                        <div class="text-center mb-3">
                            <p class="text-sm">Moves: <span id="moves-count">0</span></p>
                        </div>
                        <div class="grid grid-cols-4 gap-2 mb-3" id="memory-grid">
                            <!-- Cards will be generated here -->
                        </div>
                        <div class="flex justify-center">
                            <button onclick="resetMemoryGame()" class="bg-pink-500 text-white px-4 py-2 rounded-lg font-semibold">Reset Game</button>
                        </div>
                    </div>
                `;
                initMemoryGame();
            } else if (gameType === 'quiz') {
                container.innerHTML = `
                    <div class="bg-white/90 backdrop-blur-sm rounded-xl p-4 shadow-xl">
                        <div class="flex justify-between items-center mb-3">
                            <h3 class="text-lg font-bold text-purple-700">Love Quiz üíñ</h3>
                            <button onclick="hideGame()" class="text-purple-600 hover:text-purple-800 font-semibold">Back</button>
                        </div>
                        <div class="text-center" id="quiz-content">
                            <p class="text-sm mb-3">What's my favorite thing about you?</p>
                            <div class="space-y-2">
                                <button onclick="answerQuiz(0)" class="w-full bg-gradient-to-r from-purple-200 to-pink-200 hover:from-purple-300 hover:to-pink-300 p-2 rounded-lg font-medium transition-all text-sm">Your smile</button>
                                <button onclick="answerQuiz(1)" class="w-full bg-gradient-to-r from-purple-200 to-pink-200 hover:from-purple-300 hover:to-pink-300 p-2 rounded-lg font-medium transition-all text-sm">Your laugh</button>
                                <button onclick="answerQuiz(2)" class="w-full bg-gradient-to-r from-purple-200 to-pink-200 hover:from-purple-300 hover:to-pink-300 p-2 rounded-lg font-medium transition-all text-sm">Your kindness</button>
                                <button onclick="answerQuiz(3)" class="w-full bg-gradient-to-r from-purple-200 to-pink-200 hover:from-purple-300 hover:to-pink-300 p-2 rounded-lg font-medium transition-all text-sm">All of the above</button>
                            </div>
                            <p class="mt-2 text-xs text-gray-600">Question 1 of 4</p>
                        </div>
                    </div>
                `;
            } else if (gameType === 'clicker') {
                container.innerHTML = `
                    <div class="bg-white/90 backdrop-blur-sm rounded-xl p-4 shadow-xl">
                        <div class="flex justify-between items-center mb-3">
                            <h3 class="text-lg font-bold text-red-700">Heart Clicker ‚ù§Ô∏è</h3>
                            <button onclick="hideGame()" class="text-red-600 hover:text-red-800 font-semibold">Back</button>
                        </div>
                        <div class="text-center mb-4">
                            <p class="text-xl font-bold text-red-600 mb-2" id="heart-count">0 ‚ù§Ô∏è</p>
                            <p class="text-sm">Multiplier: x<span id="multiplier-count">1</span></p>
                        </div>
                        <div class="flex justify-center mb-4">
                            <button onclick="clickHeart()" class="text-6xl hover:scale-110 transition-transform active:scale-95">‚ù§Ô∏è</button>
                        </div>
                        <div class="flex justify-center gap-4 mb-3">
                            <button onclick="buyMultiplier()" id="buy-btn" class="px-4 py-2 rounded-lg font-semibold bg-gray-300 text-gray-500 cursor-not-allowed">
                                Buy +1 Multiplier (20 ‚ù§Ô∏è)
                            </button>
                        </div>
                    </div>
                `;
                initClickerGame();
            }
        }

        function hideGame() {
            document.getElementById('games-container').innerHTML = '';
        }

        // Memory Game Logic
        let memoryGame = {
            cards: [],
            flipped: [],
            matched: [],
            moves: 0
        };

        function initMemoryGame() {
            const memoryCards = ['‚ù§Ô∏è', 'üåπ', 'üíï', 'üíñ', 'üíó', 'üíù', 'üå∏', '‚ú®'];
            const allCards = [...memoryCards, ...memoryCards];
            // Shuffle cards
            for (let i = allCards.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [allCards[i], allCards[j]] = [allCards[j], allCards[i]];
            }
            
            memoryGame.cards = allCards;
            memoryGame.flipped = [];
            memoryGame.matched = [];
            memoryGame.moves = 0;
            
            updateMemoryDisplay();
        }

        function updateMemoryDisplay() {
            document.getElementById('moves-count').textContent = memoryGame.moves;
            const grid = document.getElementById('memory-grid');
            grid.innerHTML = '';
            
            memoryGame.cards.forEach((card, index) => {
                const isFlipped = memoryGame.flipped.includes(index) || memoryGame.matched.includes(index);
                const cardEl = document.createElement('div');
                cardEl.className = `memory-card ${isFlipped ? 'flipped' : ''}`;
                cardEl.innerHTML = isFlipped ? card : '?';
                cardEl.onclick = () => flipCard(index);
                grid.appendChild(cardEl);
            });
        }

        function flipCard(index) {
            if (memoryGame.flipped.length >= 2 || memoryGame.matched.includes(index)) return;
            
            memoryGame.flipped.push(index);
            updateMemoryDisplay();
            
            if (memoryGame.flipped.length === 2) {
                memoryGame.moves++;
                document.getElementById('moves-count').textContent = memoryGame.moves;
                
                const [first, second] = memoryGame.flipped;
                if (memoryGame.cards[first] === memoryGame.cards[second]) {
                    memoryGame.matched.push(first, second);
                    memoryGame.flipped = [];
                    
                    if (memoryGame.matched.length === memoryGame.cards.length) {
                        setTimeout(() => {
                            alert('üéâ Congratulations! You won! üéâ\n\nFrom Macharia with love! üíï');
                            createConfetti();
                        }, 500);
                    }
                } else {
                    setTimeout(() => {
                        memoryGame.flipped = [];
                        updateMemoryDisplay();
                    }, 1000);
                }
            }
        }

        function resetMemoryGame() {
            initMemoryGame();
        }

        // Quiz Logic
        let quizState = {
            currentQuestion: 0,
            score: 0
        };

        const quizQuestions = [
            {
                question: "What's my favorite thing about you?",
                options: ["Your smile", "Your laugh", "Your kindness", "All of the above"],
                correct: 3
            },
            {
                question: "When did we first meet?",
                options: ["At work", "Through friends", "Online", "Can't remember!"],
                correct: 1
            },
            {
                question: "What's your favorite food?",
                options: ["Pizza", "Pasta", "Sushi", "Chocolate"],
                correct: 2
            },
            {
                question: "What makes you happiest?",
                options: ["Cooking", "Spending time together", "Traveling", "All of these"],
                correct: 3
            }
        ];

        function answerQuiz(answerIndex) {
            if (answerIndex === quizQuestions[quizState.currentQuestion].correct) {
                quizState.score++;
            }
            
            if (quizState.currentQuestion < quizQuestions.length - 1) {
                quizState.currentQuestion++;
                updateQuizDisplay();
            } else {
                // Quiz complete
                const result = quizState.score === quizQuestions.length 
                    ? "Perfect! You know me so well! üíï" 
                    : quizState.score >= quizQuestions.length / 2 
                    ? "Great job! Our connection is strong! üíñ" 
                    : "Thanks for playing! Let's get to know each other better! üíó";
                
                document.getElementById('quiz-content').innerHTML = `
                    <div class="text-center">
                        <div class="text-6xl mb-2 animate-pulse">üéâ</div>
                        <p class="text-xl font-bold text-green-600 mb-2">Quiz Complete!</p>
                        <p class="text-lg mb-3">Your score: ${quizState.score} / ${quizQuestions.length}</p>
                        <p class="text-sm mb-4">${result}</p>
                        <button onclick="resetQuiz()" class="bg-purple-500 text-white px-6 py-2 rounded-lg font-semibold">Play Again</button>
                    </div>
                `;
                createConfetti();
            }
        }

        function updateQuizDisplay() {
            const question = quizQuestions[quizState.currentQuestion];
            document.getElementById('quiz-content').innerHTML = `
                <p class="text-sm mb-3">${question.question}</p>
                <div class="space-y-2">
                    ${question.options.map((option, index) => 
                        `<button onclick="answerQuiz(${index})" class="w-full bg-gradient-to-r from-purple-200 to-pink-200 hover:from-purple-300 hover:to-pink-300 p-2 rounded-lg font-medium transition-all text-sm">${option}</button>`
                    ).join('')}
                </div>
                <p class="mt-2 text-xs text-gray-600">Question ${quizState.currentQuestion + 1} of ${quizQuestions.length}</p>
            `;
        }

        function resetQuiz() {
            quizState = { currentQuestion: 0, score: 0 };
            updateQuizDisplay();
        }

        // Clicker Game Logic
        let clickerGame = {
            hearts: 0,
            multiplier: 1
        };

        function initClickerGame() {
            updateClickerDisplay();
        }

        function clickHeart() {
            clickerGame.hearts += clickerGame.multiplier;
            updateClickerDisplay();
        }

        function buyMultiplier() {
            if (clickerGame.hearts >= 20) {
                clickerGame.hearts -= 20;
                clickerGame.multiplier++;
                updateClickerDisplay();
            }
        }

        function updateClickerDisplay() {
            document.getElementById('heart-count').textContent = `${clickerGame.hearts} ‚ù§Ô∏è`;
            document.getElementById('multiplier-count').textContent = clickerGame.multiplier;
            
            const buyBtn = document.getElementById('buy-btn');
            if (clickerGame.hearts >= 20) {
                buyBtn.className = 'px-4 py-2 rounded-lg font-semibold bg-orange-500 text-white hover:bg-orange-600';
                buyBtn.onclick = buyMultiplier;
                buyBtn.disabled = false;
            } else {
                buyBtn.className = 'px-4 py-2 rounded-lg font-semibold bg-gray-300 text-gray-500 cursor-not-allowed';
                buyBtn.onclick = null;
                buyBtn.disabled = true;
            }
        }

        // Seasonal Effects System
        function initSeasonalEffects() {
            const now = new Date();
            const month = now.getMonth(); // 0-11 (Jan-Dec)
            
            // Clear any existing effects
            clearInterval(seasonalInterval);
            document.getElementById('seasonal-effects').innerHTML = '';
            
            if (month >= 11 || month <= 1) {
                // Winter (Dec, Jan, Feb)
                createSnowEffect();
            } else if (month >= 2 && month <= 4) {
                // Spring (Mar, Apr, May)
                createFlowerEffect();
            } else if (month >= 5 && month <= 7) {
                // Summer (Jun, Jul, Aug)
                createSunEffect();
            } else {
                // Fall (Sep, Oct, Nov)
                createLeafEffect();
            }
        }

        function createSnowEffect() {
            seasonalInterval = setInterval(() => {
                const container = document.getElementById('seasonal-effects');
                const snowflake = document.createElement('div');
                snowflake.className = 'snowflake';
                snowflake.innerHTML = '‚ùÑÔ∏è';
                snowflake.style.left = Math.random() * 100 + '%';
                snowflake.style.top = '-10px';
                snowflake.style.opacity = Math.random() * 0.5 + 0.3;
                snowflake.style.fontSize = (Math.random() * 20 + 10) + 'px';
                container.appendChild(snowflake);
                
                // Animate falling
                let top = -10;
                const fallInterval = setInterval(() => {
                    top += 2;
                    snowflake.style.top = top + 'px';
                    if (top > window.innerHeight) {
                        snowflake.remove();
                        clearInterval(fallInterval);
                    }
                }, 50);
            }, 300);
        }

        function createFlowerEffect() {
            seasonalInterval = setInterval(() => {
                const container = document.getElementById('seasonal-effects');
                const flowers = ['üå∏', 'üå∑', 'üåº', 'üå∫'];
                const flower = document.createElement('div');
                flower.className = 'flower';
                flower.innerHTML = flowers[Math.floor(Math.random() * flowers.length)];
                flower.style.left = Math.random() * 100 + '%';
                flower.style.top = Math.random() * 100 + '%';
                flower.style.opacity = Math.random() * 0.4 + 0.3;
                flower.style.fontSize = (Math.random() * 15 + 10) + 'px';
                container.appendChild(flower);
                
                // Fade out after 3 seconds
                setTimeout(() => {
                    flower.style.transition = 'opacity 1s ease-out';
                    flower.style.opacity = '0';
                    setTimeout(() => flower.remove(), 1000);
                }, 3000);
            }, 2000);
        }

        function createSunEffect() {
            // Add subtle sun rays or warm glow
            const container = document.getElementById('seasonal-effects');
            const sun = document.createElement('div');
            sun.style.position = 'fixed';
            sun.style.top = '20px';
            sun.style.right = '20px';
            sun.style.fontSize = '3rem';
            sun.style.opacity = '0.3';
            sun.innerHTML = '‚òÄÔ∏è';
            container.appendChild(sun);
        }

        function createLeafEffect() {
            seasonalInterval = setInterval(() => {
                const container = document.getElementById('seasonal-effects');
                const leaves = ['üçÇ', 'üçÅ'];
                const leaf = document.createElement('div');
                leaf.className = 'leaf';
                leaf.innerHTML = leaves[Math.floor(Math.random() * leaves.length)];
                leaf.style.left = Math.random() * 100 + '%';
                leaf.style.top = '-10px';
                leaf.style.opacity = Math.random() * 0.5 + 0.3;
                leaf.style.fontSize = (Math.random() * 15 + 10) + 'px';
                container.appendChild(leaf);
                
                // Animate falling with drift
                let top = -10;
                let left = parseFloat(leaf.style.left);
                const drift = (Math.random() - 0.5) * 2;
                
                const fallInterval = setInterval(() => {
                    top += 3;
                    left += drift;
                    leaf.style.top = top + 'px';
                    leaf.style.left = left + '%';
                    if (top > window.innerHeight || left < -10 || left > 110) {
                        leaf.remove();
                        clearInterval(fallInterval);
                    }
                }, 50);
            }, 500);
        }

        // Shake Detection for Mobile
        function setupShakeDetection() {
            if (window.DeviceMotionEvent) {
                let lastUpdate = 0;
                let lastX = 0, lastY = 0, lastZ = 0;
                
                window.addEventListener('devicemotion', (event) => {
                    const currentTime = new Date().getTime();
                    const diffTime = currentTime - lastUpdate;
                    
                    if (diffTime > 100) {
                        lastUpdate = currentTime;
                        const acceleration = event.accelerationIncludingGravity;
                        const x = acceleration.x;
                        const y = acceleration.y;
                        const z = acceleration.z;
                        
                        const speed = Math.abs(x + y + z - lastX - lastY - lastZ) / diffTime * 10000;
                        
                        if (speed > 1000) {
                            // Shake detected!
                            const messages = [
                                "You make my heart race, Florence! üíì",
                                "Every shake reminds me of your beautiful laugh! üòä",
                                "I love you more than words can say! üíï",
                                "You're my everything, Florence! ‚ú®",
                                "Shake again for another reason why I love you! üíñ"
                            ];
                            const randomMessage = messages[Math.floor(Math.random() * messages.length)];
                            alert(randomMessage + "\n\n- Macharia ‚ù§Ô∏è");
                            createConfetti();
                        }
                        
                        lastX = x;
                        lastY = y;
                        lastZ = z;
                    }
                });
            }
        }

        // Voice Recorder (Simple version using MediaRecorder API)
        function setupVoiceRecorder() {
            const recordButton = document.createElement('button');
            recordButton.innerHTML = 'üé§ Record Voice Message';
            recordButton.className = 'bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg font-semibold mt-4';
            recordButton.onclick = startRecording;
            
            // Add to personal message section
            const messageSection = document.querySelector('.bg-gradient-to-r.from-pink-100.to-red-100');
            messageSection.appendChild(recordButton);
        }

        let mediaRecorder;
        let audioChunks = [];

        async function startRecording() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                mediaRecorder = new MediaRecorder(stream);
                audioChunks = [];
                
                mediaRecorder.ondataavailable = (event) => {
                    audioChunks.push(event.data);
                };
                
                mediaRecorder.onstop = () => {
                    const audioBlob = new Blob(audioChunks, { type: 'audio/wav' });
                    const audioUrl = URL.createObjectURL(audioBlob);
                    
                    // Create audio player
                    const audioPlayer = document.createElement('audio');
                    audioPlayer.controls = true;
                    audioPlayer.src = audioUrl;
                    audioPlayer.className = 'w-full mt-2';
                    
                    // Replace record button with audio player
                    const recordButton = document.querySelector('button[onclick="startRecording()"]');
                    if (recordButton) {
                        recordButton.replaceWith(audioPlayer);
                    }
                    
                    alert("Beautiful voice message recorded! üíï\n\nI love hearing you say 'I love you, Macharia!' ‚ù§Ô∏è");
                    createConfetti();
                };
                
                mediaRecorder.start();
                alert("Recording started! Speak your message to me, Florence! üé§");
                
                // Stop recording after 10 seconds
                setTimeout(() => {
                    mediaRecorder.stop();
                    stream.getTracks().forEach(track => track.stop());
                }, 10000);
                
            } catch (error) {
                alert("Sorry, voice recording isn't supported on your device. But I still love you! üíï\n\n- Macharia");
            }
        }

        // Initialize home page
        createFloatingHearts();
        
        // Touch and click events for mobile
        document.body.addEventListener('touchstart', (e) => {
            if (!e.target.closest('#games-container') && document.getElementById('main-page').classList.contains('hidden') === false) {
                createConfetti();
            }
        });
        
        document.body.addEventListener('click', (e) => {
            if (!e.target.closest('#games-container') && document.getElementById('main-page').classList.contains('hidden') === false) {
                createConfetti();
            }
        });
        
        // Handle window resize
        window.addEventListener('resize', () => {
            createFloatingHearts();
        });
    </script>
</body>
</html>

